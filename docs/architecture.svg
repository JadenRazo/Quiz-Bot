<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 850" font-family="'Segoe UI', system-ui, -apple-system, sans-serif">
  <defs>
    <linearGradient id="bgGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0d1117"/>
      <stop offset="100%" stop-color="#161b22"/>
    </linearGradient>
    <marker id="arrowGreen" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto"><path d="M0,0 L12,5 L0,10 L3,5Z" fill="#4ade80"/></marker>
    <marker id="arrowBlue" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto"><path d="M0,0 L12,5 L0,10 L3,5Z" fill="#60a5fa"/></marker>
    <marker id="arrowAmber" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto"><path d="M0,0 L12,5 L0,10 L3,5Z" fill="#fbbf24"/></marker>
    <marker id="arrowCyan" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto"><path d="M0,0 L12,5 L0,10 L3,5Z" fill="#22d3ee"/></marker>
    <marker id="arrowPurple" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto"><path d="M0,0 L12,5 L0,10 L3,5Z" fill="#c084fc"/></marker>
  </defs>

  <rect width="1200" height="850" rx="12" fill="url(#bgGrad)"/>

  <text x="600" y="42" text-anchor="middle" fill="#f0f6fc" font-size="26" font-weight="700">Quiz-Bot Architecture</text>
  <text x="600" y="68" text-anchor="middle" fill="#9198a1" font-size="14">Discord quiz bot powered by LLMs — OpenAI, Anthropic, Google AI — with async PostgreSQL</text>

  <!-- ═══ TOP: Discord Interface ═══ -->
  <rect x="30" y="90" width="1140" height="100" rx="12" fill="#1c2333" stroke="#5865F2" stroke-width="2"/>
  <text x="600" y="118" text-anchor="middle" fill="#93c5fd" font-size="18" font-weight="700">Discord Interface (discord.py AutoShardedBot)</text>

  <rect x="50" y="132" width="200" height="42" rx="8" fill="#1e293b" stroke="#5865F2" stroke-width="1.2"/>
  <text x="150" y="159" text-anchor="middle" fill="#93c5fd" font-size="13" font-weight="600">Slash Commands</text>

  <rect x="270" y="132" width="200" height="42" rx="8" fill="#1e293b" stroke="#5865F2" stroke-width="1.2"/>
  <text x="370" y="159" text-anchor="middle" fill="#93c5fd" font-size="13" font-weight="600">Button Interactions</text>

  <rect x="490" y="132" width="200" height="42" rx="8" fill="#1e293b" stroke="#5865F2" stroke-width="1.2"/>
  <text x="590" y="159" text-anchor="middle" fill="#93c5fd" font-size="13" font-weight="600">Embed Responses</text>

  <rect x="710" y="132" width="200" height="42" rx="8" fill="#1e293b" stroke="#5865F2" stroke-width="1.2"/>
  <text x="810" y="159" text-anchor="middle" fill="#93c5fd" font-size="13" font-weight="600">View Components</text>

  <rect x="930" y="132" width="230" height="42" rx="8" fill="#1e293b" stroke="#5865F2" stroke-width="1.2"/>
  <text x="1045" y="159" text-anchor="middle" fill="#93c5fd" font-size="13" font-weight="600">Error Handling</text>

  <!-- Arrows -->
  <path d="M400,190 L400,220" stroke="#60a5fa" stroke-width="3" marker-end="url(#arrowBlue)" fill="none"/>
  <path d="M800,190 L800,220" stroke="#60a5fa" stroke-width="3" marker-end="url(#arrowBlue)" fill="none"/>

  <!-- ═══ MIDDLE: Cog System ═══ -->
  <rect x="30" y="220" width="700" height="260" rx="12" fill="#1c2333" stroke="#fbbf24" stroke-width="2"/>
  <text x="380" y="248" text-anchor="middle" fill="#fbbf24" font-size="18" font-weight="700">Cog System (12 Command Modules)</text>

  <!-- Cogs grid -->
  <rect x="50" y="264" width="210" height="42" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="1"/>
  <text x="155" y="291" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">QuizCog — Start quizzes</text>

  <rect x="275" y="264" width="210" height="42" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="1"/>
  <text x="380" y="291" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">LeaderboardCog — Rankings</text>

  <rect x="500" y="264" width="210" height="42" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="1"/>
  <text x="605" y="291" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">SettingsCog — Config</text>

  <rect x="50" y="316" width="210" height="42" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="1"/>
  <text x="155" y="343" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">HistoryCog — Past games</text>

  <rect x="275" y="316" width="210" height="42" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="1"/>
  <text x="380" y="343" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">ChallengeCog — PvP</text>

  <rect x="500" y="316" width="210" height="42" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="1"/>
  <text x="605" y="343" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">CategoryCog — Topics</text>

  <rect x="50" y="368" width="210" height="42" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="1"/>
  <text x="155" y="395" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">AchievementCog — Badges</text>

  <rect x="275" y="368" width="210" height="42" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="1"/>
  <text x="380" y="395" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">AdminCog — Management</text>

  <rect x="500" y="368" width="210" height="42" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="1"/>
  <text x="605" y="395" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">HelpCog — Docs</text>

  <rect x="50" y="420" width="320" height="42" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="1"/>
  <text x="210" y="447" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">DailyChallengeCog — Daily puzzles</text>

  <rect x="385" y="420" width="325" height="42" rx="6" fill="#292524" stroke="#fbbf24" stroke-width="1"/>
  <text x="547" y="447" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="600">TournamentCog + StreamCog — Events</text>

  <!-- ═══ RIGHT: LLM Providers ═══ -->
  <rect x="750" y="220" width="420" height="260" rx="12" fill="#1c2333" stroke="#c084fc" stroke-width="2"/>
  <text x="960" y="248" text-anchor="middle" fill="#d8b4fe" font-size="18" font-weight="700">LLM Providers</text>

  <rect x="770" y="270" width="380" height="55" rx="8" fill="#2d1f3d" stroke="#c084fc" stroke-width="1.2"/>
  <text x="960" y="295" text-anchor="middle" fill="#d8b4fe" font-size="14" font-weight="600">OpenAI (GPT-4o, GPT-4o-mini)</text>
  <text x="960" y="314" text-anchor="middle" fill="#9198a1" font-size="11">Primary provider, structured JSON output</text>

  <rect x="770" y="335" width="380" height="55" rx="8" fill="#2d1f3d" stroke="#c084fc" stroke-width="1.2"/>
  <text x="960" y="360" text-anchor="middle" fill="#d8b4fe" font-size="14" font-weight="600">Anthropic (Claude 3.5 Sonnet)</text>
  <text x="960" y="379" text-anchor="middle" fill="#9198a1" font-size="11">Secondary provider, automatic fallback</text>

  <rect x="770" y="400" width="380" height="55" rx="8" fill="#2d1f3d" stroke="#c084fc" stroke-width="1.2"/>
  <text x="960" y="425" text-anchor="middle" fill="#d8b4fe" font-size="14" font-weight="600">Google AI (Gemini 1.5 Pro)</text>
  <text x="960" y="444" text-anchor="middle" fill="#9198a1" font-size="11">Tertiary provider, multi-modal support</text>

  <!-- Arrow: Cogs → LLM -->
  <path d="M730,350 L750,350" stroke="#c084fc" stroke-width="3" marker-end="url(#arrowPurple)" fill="none"/>

  <!-- ═══ MIDDLE: Services ═══ -->
  <rect x="30" y="505" width="1140" height="100" rx="12" fill="#1c2333" stroke="#22d3ee" stroke-width="2"/>
  <text x="600" y="533" text-anchor="middle" fill="#67e8f9" font-size="18" font-weight="700">Application Services</text>

  <rect x="50" y="548" width="250" height="42" rx="8" fill="#0e2a32" stroke="#22d3ee" stroke-width="1.2"/>
  <text x="175" y="575" text-anchor="middle" fill="#67e8f9" font-size="13" font-weight="600">Quiz Session Manager</text>

  <rect x="320" y="548" width="250" height="42" rx="8" fill="#0e2a32" stroke="#22d3ee" stroke-width="1.2"/>
  <text x="445" y="575" text-anchor="middle" fill="#67e8f9" font-size="13" font-weight="600">Prompt Template Engine</text>

  <rect x="590" y="548" width="250" height="42" rx="8" fill="#0e2a32" stroke="#22d3ee" stroke-width="1.2"/>
  <text x="715" y="575" text-anchor="middle" fill="#67e8f9" font-size="13" font-weight="600">Score &amp; Streak Tracker</text>

  <rect x="860" y="548" width="300" height="42" rx="8" fill="#0e2a32" stroke="#22d3ee" stroke-width="1.2"/>
  <text x="1010" y="575" text-anchor="middle" fill="#67e8f9" font-size="13" font-weight="600">LLM Router (failover chain)</text>

  <!-- Arrows to services -->
  <path d="M380,480 L380,505" stroke="#22d3ee" stroke-width="3" marker-end="url(#arrowCyan)" fill="none"/>
  <path d="M960,480 L960,505" stroke="#22d3ee" stroke-width="3" marker-end="url(#arrowCyan)" fill="none"/>

  <!-- ═══ BOTTOM: Data Layer ═══ -->
  <rect x="30" y="630" width="1140" height="110" rx="12" fill="#1c2333" stroke="#4ade80" stroke-width="2"/>
  <text x="600" y="658" text-anchor="middle" fill="#4ade80" font-size="18" font-weight="700">Data Layer</text>

  <rect x="50" y="672" width="520" height="50" rx="8" fill="#1a2e1a" stroke="#4ade80" stroke-width="1.2"/>
  <text x="310" y="696" text-anchor="middle" fill="#86efac" font-size="14" font-weight="600">PostgreSQL (asyncpg + SQLAlchemy async)</text>
  <text x="310" y="714" text-anchor="middle" fill="#9198a1" font-size="11">Users, scores, quiz history, achievements, challenges, settings</text>

  <rect x="590" y="672" width="260" height="50" rx="8" fill="#1a2e1a" stroke="#fbbf24" stroke-width="1.2"/>
  <text x="720" y="696" text-anchor="middle" fill="#fbbf24" font-size="14" font-weight="600">Pydantic Config</text>
  <text x="720" y="714" text-anchor="middle" fill="#9198a1" font-size="11">Type-safe settings, .env loading</text>

  <rect x="870" y="672" width="290" height="50" rx="8" fill="#1a2e1a" stroke="#22d3ee" stroke-width="1.2"/>
  <text x="1015" y="696" text-anchor="middle" fill="#67e8f9" font-size="14" font-weight="600">Alembic Migrations</text>
  <text x="1015" y="714" text-anchor="middle" fill="#9198a1" font-size="11">Schema versioning, auto-generation</text>

  <!-- Arrows to data -->
  <path d="M400,605 L400,630" stroke="#4ade80" stroke-width="3" marker-end="url(#arrowGreen)" fill="none"/>
  <path d="M800,605 L800,630" stroke="#4ade80" stroke-width="3" marker-end="url(#arrowGreen)" fill="none"/>

  <!-- ═══ Deploy ═══ -->
  <rect x="30" y="760" width="1140" height="60" rx="12" fill="#1c2333" stroke="#7d8590" stroke-width="1.5"/>
  <text x="600" y="798" text-anchor="middle" fill="#f0f6fc" font-size="15" font-weight="700">tmux session manager  ·  Systemd service  ·  PostgreSQL  ·  Python 3.11+  ·  pip + requirements.txt</text>

  <text x="600" y="840" text-anchor="middle" fill="#7d8590" font-size="12">Python  ·  discord.py  ·  SQLAlchemy  ·  asyncpg  ·  Pydantic  ·  OpenAI  ·  Anthropic  ·  Google AI</text>
</svg>